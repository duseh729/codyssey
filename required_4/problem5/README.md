### 사용 DB 개념

## 1. SQLite

경량화된 파일 기반 데이터베이스이다.

서버 프로세스 없이 **하나의 파일(예: `app.db`)** 만으로 SQL 기반 DB 기능을 제공한다.

사용되는 곳: 모바일, 임베디드, IoT, 게임, 로컬 환경 등 **가벼운 애플리케이션**

### → 장점

* 설치 및 설정이 매우 간단함
* 파일만 옮기면 그대로 이식 가능
* 읽기 작업 성능이 우수
* 외부 DB 서버 없이 동작

### → 단점

* **동시 쓰기(Write) 성능이 떨어짐**
  * SQLite는 파일 전체에 Lock을 걸기 때문에 여러 클라이언트가 동시에 쓰는 상황에 적합하지 않음.
* **대규모 트래픽 환경에는 부적합**
  * 웹 서비스 백엔드의 메인 DB로 쓰기엔 확장성이 부족함.
* 일부 SQL 기능 제한
  * 복잡한 Stored Procedure, 고급 기능 등은 제한적.

---

## 2. SQLAlchemy

Python에서 널리 사용되는 ORM(Object Relational Mapping) 라이브러리이다.

ORM은 **클래스(객체) ↔ 테이블(데이터베이스)** 을 매핑하여 SQL 없이도 DB를 다룰 수 있게 해준다.

### → 장점

* SQL을 직접 작성할 필요 없이 객체로 DB 조작 가능
* DB 독립성 높음 (SQLite → PostgreSQL 등의 변경 용이)
* ORM + SQL Core 둘 다 지원(유연성 높음)
* 관계 설정, 트랜잭션 관리 등 편의 기능 풍부

### → 단점

* **복잡한 SQL을 ORM으로 표현하기 어려움**
  * 일부 쿼리는 ORM보다 raw SQL이 더 빠르고 명확함.
* **학습 난이도 존재**
  * Session, flush, commit, lazy/eager loading 등 개념이 많음.
* ORM 특성상 **성능 문제가 발생할 수 있음**
  * N+1 쿼리 등 개발자가 신경 써야 할 부분 존재.

---

## 3. Alembic

SQLAlchemy 기반의 **데이터베이스 스키마 버전 관리 도구**이다.

Git이 코드 버전을 관리하듯, Alembic은 테이블 구조 변경 이력을 버전으로 관리한다.

### → 장점

* 모델 변경을 자동 감지해서 revision 파일 생성 (`--autogenerate`)
* `upgrade` / `downgrade` 로 DB 스키마를 원하는 버전으로 이동 가능
* 협업 시 여러 개발자의 DB 구조를 동일하게 유지 가능

### → 단점

* **초기 설정 과정이 번거로울 수 있음**
  * env.py 설정, metadata 설정 등 신경 쓸 부분이 있음.
* **생성된 migration 파일을 반드시 확인해야 함**
  * 자동 생성이 항상 정확하진 않음.
* 복잡한 스키마 변경은 수동으로 작성해야 할 때가 있음.

---

## 최종 요약

* **SQLite**
  * 장점: 가볍고 간단한 로컬 DB
  * 단점: 동시 쓰기와 확장성 제한
* **SQLAlchemy**
  * 장점: 객체 기반의 DB 제어
  * 단점: 성능/학습 난이도 이슈
* **Alembic**
  * 장점: DB 스키마 버전 관리
  * 단점: 설정 복잡, 자동화 한계 존재
